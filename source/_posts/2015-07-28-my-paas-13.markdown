---
layout: post
title: "设计自己的paas平台nap 13----代码拆分"
date: 2015-07-28 07:38:22 +0800
comments: true
categories: nap平台
---
###写在前面
我们前面已经做了很多事情，对基本的流程也有了一定的了解，那么现在我们可以做一些完善工作了，虽然这个完善工作的工作量也是巨大的。为了实现平台无关性，我们要想办法把控制逻辑部分，从操作系统层次剥离开来，把控制逻辑部分也在一个容器中实现。为了实现用户的个性化定制，我们需要区别对待不同的用户，把数据层隔离出来。为了实现用户的资源控制和数据信息的集中展示，我们需要数据库部分。等等。
<!--more-->

###nap结构再思考
从前面的分析中，我觉得，我们新的nap平台的设计应该是这样的。

![](../../images/nap+architecture.png)

拆开来说，应该有以下几个部分。

deploy部分。

![](../../images/nap+deploy.png)

run部分

![](../../images/nap+run.png)

新用户部分

![](../../images/nap+new+user.png)

